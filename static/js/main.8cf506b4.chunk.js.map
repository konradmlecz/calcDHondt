{"version":3,"sources":["components/Background/index.tsx","i18n.js","data/text.constans.ts","components/ContainerContentStyled/index.tsx","components/Button/index.tsx","routes/home/index.tsx","data/calc.form.setting.constants.ts","components/FIeldRange/index.tsx","components/FieldCheckbox/index.tsx","components/FieldMain/index.tsx","data/calc.form.default.values.constants.ts","helpers/setError.ts","data/calc.iniatial.state.constants.ts","services/CalcEngine.ts","store/index.ts","components/CalcForm/index.tsx","helpers/calcDivisionMandates.ts","helpers/setNumberOfCommitteesFields.ts","components/CalcChart/index.tsx","helpers/setHeight.ts","helpers/useSize.ts","routes/calc/index.tsx","components/Nav/index.tsx","data/theme.ts","App.tsx","index.tsx"],"names":["BackgroundStyled","styled","div","Background","src","i18n","use","LanguageDetector","initReactI18next","init","resources","en","translation","nav","link1","link2","home","title","button","calc","form","label","numberOfCommittees","numberOfMandates","heightOfThreshold","threshold","committees","votes","placeholder","submit","errors","number","text","pl","fallbackLng","interpolation","escapeValue","ContainerContentStyled","props","theme","fontFamily","first","color","ButtonStyled","second","Button","children","onClick","type","Wrapper","HomeStyled","Home","t","useTranslation","navigate","useNavigate","INPUT","RANGE_NUMBER_OF_COMMITTEES","RANGE_NUMBER_OF_MANDATES","RANGE_NUMBER_OF_HEIGHT_OF_THRESHOLD","FieldStyled","FieldRange","name","min","max","disabled","onChange","useFormContext","register","getValues","useState","stateOfRange","setStateOfRange","handleChange","value","setValueAs","v","parseInt","handleDisabled","target","FieldCheckbox","FieldMain","options","error","className","defaultValues","id","setError","errorObj","typeOfField","message","Object","keys","some","typeOfFieldWithError","backgroundColor","borderColor","initialState","formIsDisplayed","chartIsDisplayed","chartData","labels","datasets","data","borderWidth","CalcChartData","this","CalcEngine","thresholdInNumberAbsolute","sumOfVotes","divisors","createSumOfVotes","createOfThresholdInNumberAbsolute","checkWhichCommitteeObtainedThreshold","sortCommittees","createDivisors","sumOfNumberOfObtainedMandates","reduce","acc","obj","map","committee","isHasThreshold","sort","a","b","nestedDivisor","y","push","flat","divisorsToSum","splice","obtainedMandatesForCommittees","i","mandates","filter","divisor","length","forEach","find","obtainedMandatesForCommittee","numberOfObtainedMandates","calcSlice","createSlice","reducers","setChart","state","action","payload","showForm","store","configureStore","reducer","actions","useAppSelector","useSelector","CalcFormStyled","schema","yup","shape","of","required","positive","CalcForm","dispatch","useDispatch","methods","useForm","resolver","yupResolver","fields","useFieldArray","control","watch","disableRangeHeightOfThreshold","formState","onSubmit","handleSubmit","engine","createData","getCommittees","getChartData","calcDivisionMandates","numberOfCommitteesToSet","setValue","numberOfCommitteesStr","newFields","Number","committeeToAdd","setNumberOfCommitteesFields","field","valueAsNumber","CalcChartStyled","height","indexAxis","responsive","plugins","legend","display","position","CalcChart","useRef","size","width","setHeight","React","setSize","useResizeObserver","entry","contentRect","useSize","ref","CalcStyled","Calc","LinkStyled","Link","NavStyled","Nav","setLanguage","ln","to","changeLanguage","language","third","four","MainWrapper","App","path","element","ReactDOM","render","StrictMode","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.8cf506b4.chunk.js","sourcesContent":["import React from 'react';\r\nimport styled from 'styled-components';\r\nimport {ReactSVG} from 'react-svg'\r\n\r\nconst BackgroundStyled = styled.div`\r\n  z-index: -1;\r\n  position: absolute;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  & div {\r\n    width: 75%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    & svg {\r\n      width: 100%;\r\n      opacity: 0.5;\r\n    }\r\n  }\r\n\r\n  @media (min-width: 768px) {\r\n    & div {\r\n      width: 65%;\r\n    }\r\n  }\r\n`;\r\n\r\n\r\nexport default function Background() {\r\n    return (\r\n        <BackgroundStyled>\r\n            <ReactSVG\r\n                src=\"./images/box.svg\"\r\n            />\r\n        </BackgroundStyled>\r\n    );\r\n}\r\n\r\n\r\n\r\n","import i18n from \"i18next\";\r\nimport { initReactI18next } from \"react-i18next\";\r\nimport {resources} from \"./data/text.constans\"\r\nimport LanguageDetector from 'i18next-browser-languagedetector';\r\n\r\ni18n\r\n    .use(LanguageDetector)\r\n    .use(initReactI18next)\r\n    .init({\r\n        resources,\r\n        fallbackLng: [\"pl\",\"en\"],\r\n        interpolation: {\r\n            escapeValue: false\r\n        }\r\n    });\r\nexport default i18n;","export const resources = {\r\n    en: {\r\n        translation: {\r\n            nav: {\r\n                link1: \"Home\",\r\n                link2: \"Calc\",\r\n            },\r\n            home: {\r\n                title: \"Calculator D'Hondta method's\",\r\n                button: \"Start\",\r\n            },\r\n            calc: {\r\n                form: {\r\n                    label: {\r\n                        numberOfCommittees: \"Number of Committees\",\r\n                        numberOfMandates: \"Number of Mandates\",\r\n                        heightOfThreshold: \"Height of Threshold\",\r\n                        threshold: \"Threshold\",\r\n                        committees: \"Committee\",\r\n                        votes: \"Number of votes\",\r\n                    },\r\n                    placeholder: {\r\n                        committees: \"Committee\",\r\n                        votes: \"Number of votes\",\r\n                    },\r\n                    submit: \"Calculate\",\r\n                    button: \"Show form\",\r\n                    errors: {\r\n                        number: \"Field is not be empty and less 1\",\r\n                        text: \"Field is not be empty\",\r\n                    }\r\n                },\r\n            }\r\n        }\r\n    },\r\n    pl: {\r\n        translation: {\r\n            nav: {\r\n                link1: \"Start\",\r\n                link2: \"Kalkulator\",\r\n            },\r\n            home: {\r\n                title: \"Kalkulator metody D'Hondta\",\r\n                button: \"Zacznij\",\r\n            },\r\n            calc: {\r\n                form: {\r\n                    label: {\r\n                        numberOfCommittees: \"Ilość komitetów\",\r\n                        numberOfMandates: \"Ilość mandatów\",\r\n                        heightOfThreshold: \"Wysokość progu\",\r\n                        threshold: \"Próg\",\r\n                        committees: \"Nazwa komitetu\",\r\n                        votes: \"Ilość głosów\",\r\n                    },\r\n                    placeholder: {\r\n                        committees: \"Nazwa komitetu\",\r\n                        votes: \"Ilość głosów\",\r\n                    },\r\n                    submit: \"Wylicz\",\r\n                    button: \"Pokaż formularz\",\r\n                    errors: {\r\n                        number: \"Pole nie może być puste ani mniejsze od 1\",\r\n                        text: \"Pole nie moze być puste\",\r\n                    }\r\n                },\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n","import styled from 'styled-components';\r\n\r\n\r\nexport const ContainerContentStyled = styled.div`\r\n  font-family: ${props => props.theme.fontFamily.first};\r\n  color: ${props => props.theme.color.first};\r\n  background-color: rgba(255, 255, 255, 0.6);\r\n  padding: 8px;\r\n  box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;\r\n  border-radius: 10px;\r\n  @media (min-width: 768px) {\r\n    padding: 20px;\r\n  }\r\n`;","import React, {ReactEventHandler} from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst ButtonStyled = styled.button`\r\n  font-size: 1.2rem;\r\n  font-weight: bold;\r\n  font-family: ${props => props.theme.fontFamily.first};\r\n  background-color: transparent;\r\n  border-radius: 10px;\r\n  padding: 5px 10px;\r\n  color: ${props => props.theme.color.first};\r\n  border: 2px solid ${props => props.theme.color.first};\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    color: ${props => props.theme.color.second};\r\n    border: 2px solid ${props => props.theme.color.second};\r\n  }\r\n\r\n  @media (min-width: 768px) {\r\n    font-size: 1.6rem;\r\n    padding: 5px 10px;\r\n\r\n  }\r\n`;\r\n\r\ninterface ButtonI {\r\n    children: string,\r\n    onClick?: ReactEventHandler,\r\n    type?: 'submit',\r\n}\r\n\r\nexport default function Button({children, onClick, type}: ButtonI) {\r\n\r\n    return (\r\n        <ButtonStyled onClick={onClick} type={type}>\r\n            {children}\r\n        </ButtonStyled>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport {useTranslation} from 'react-i18next'\r\nimport {ContainerContentStyled} from 'components/ContainerContentStyled'\r\nimport {useNavigate} from 'react-router-dom';\r\nimport Button from 'components/Button'\r\n\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  min-height: 80vh;\r\n  display: flex;\r\n  justify-content: center;\r\n`;\r\n\r\n\r\n\r\nconst HomeStyled = styled(ContainerContentStyled)`\r\n  align-self: center;\r\n  justify-self: center;\r\n\r\n  & h1 {\r\n    padding: 10px;\r\n    letter-spacing: 4px;\r\n    border-bottom: 1px solid ${props => props.theme.color.first};\r\n    font-size: 1.4rem;\r\n  }\r\n\r\n  @media (min-width: 768px) {\r\n    & h1 {\r\n      padding: 20px;\r\n      letter-spacing: 8px;\r\n      font-size: 3rem;\r\n    }\r\n  }\r\n`;\r\n\r\n\r\nexport default function Home() {\r\n    const {t} = useTranslation();\r\n    const handleClick = () => {\r\n        navigate('/calc')\r\n    }\r\n\r\n    const navigate = useNavigate()\r\n    return (\r\n        <Wrapper>\r\n            <HomeStyled>\r\n                <h1>{t('home.title')}</h1>\r\n                <Button onClick={handleClick}>{t('home.button')}</Button>\r\n            </HomeStyled>\r\n        </Wrapper>\r\n    );\r\n}\r\n\r\n","export const INPUT = {\r\n    numberOfCommittees: 'numberOfCommittees',\r\n    numberOfMandates: 'numberOfMandates',\r\n    heightOfThreshold: 'heightOfThreshold',\r\n    threshold: 'threshold',\r\n    committees: 'committees',\r\n}\r\n\r\n\r\nexport const RANGE_NUMBER_OF_COMMITTEES = {\r\n    min: '1',\r\n    max: '8'\r\n}\r\nexport const RANGE_NUMBER_OF_MANDATES = {\r\n    min: '6',\r\n    max: '20'\r\n}\r\n\r\nexport const RANGE_NUMBER_OF_HEIGHT_OF_THRESHOLD = {\r\n    min: '3',\r\n    max: '20'\r\n}\r\n\r\n\r\n","import React, {useState} from 'react';\r\nimport {useFormContext} from 'react-hook-form';\r\nimport styled from 'styled-components';\r\n\r\n\r\nconst FieldStyled = styled.label`\r\n  font-size: 1.2rem;\r\n  display: grid;\r\n  grid-template-rows: 1fr 1fr;\r\n  justify-items: center;\r\n  gap: 5px;\r\n  margin: 20px;\r\n  width: 120px;\r\n  & input[type=range] {\r\n    -webkit-appearance: none;\r\n    background: transparent;\r\n    width: 120px;\r\n  }\r\n\r\n  & input[type=range]::-webkit-slider-thumb {\r\n    -webkit-appearance: none;\r\n \r\n  }\r\n\r\n  & input[type=range]:focus {\r\n    outline: none;\r\n  }\r\n \r\n\r\n  & input[type=range]::-ms-track {\r\n    width: 100%;\r\n    cursor: pointer;\r\n    background: transparent;\r\n    border-color: transparent;\r\n    color: transparent;\r\n  }\r\n\r\n  & input[type=range]::-webkit-slider-thumb {\r\n    -webkit-appearance: none;\r\n    background: ${props => props.theme.color.first};\r\n    height: 16px;\r\n    width: 16px;\r\n    border-radius: 50%;\r\n    cursor: pointer;\r\n    margin-top: -5px;\r\n  }\r\n\r\n  & input[type=range]::-moz-range-thumb {\r\n    background: ${props => props.theme.color.first};\r\n    height: 16px;\r\n    width: 16px;\r\n    border-radius: 50%;\r\n    cursor: pointer;\r\n  }\r\n\r\n  & input[type=range]::-ms-thumb {\r\n    background: ${props => props.theme.color.first};\r\n    height: 16px;\r\n    width: 16px;\r\n    border-radius: 50%;\r\n    cursor: pointer;\r\n  }\r\n\r\n  & input[type=range]::-webkit-slider-runnable-track {\r\n    width: 50%;\r\n    height: 6px;\r\n    cursor: pointer;\r\n    border-radius: 4px;\r\n    background: ${props => props.theme.color.first};\r\n  }\r\n\r\n  & input[type=range]::-moz-range-track {\r\n    width: 100%;\r\n    height: 6px;\r\n    cursor: pointer;\r\n    background: ${props => props.theme.color.first};\r\n    border-radius: 4px;\r\n  }\r\n\r\n  & input[type=range]::-ms-track {\r\n    width: 100%;\r\n    height: 6px;\r\n    cursor: pointer;\r\n    background: transparent;\r\n    border-color: transparent;\r\n    border-radius: 4px;\r\n    color: transparent;\r\n\r\n  }\r\n\r\n  & input[type=range]::-ms-fill-lower {\r\n    background: ${props => props.theme.color.first};\r\n    border-radius: 4px;\r\n  }\r\n\r\n  & input[type=range]::-ms-fill-upper {\r\n    background: ${props => props.theme.color.first};\r\n    border-radius: 4px;\r\n  }\r\n\r\n\r\n\r\n  @media (min-width: 768px) {\r\n    font-size: 1.6rem;\r\n    width: 220px;\r\n    & input[type=range] {\r\n      width: 220px;\r\n    }\r\n    \r\n  }\r\n`;\r\n\r\n\r\ninterface FieldRangeI {\r\n    name: string,\r\n    text: string,\r\n    min: string,\r\n    max: string,\r\n    disabled?: boolean,\r\n    onChange?: (dataToSet: string) => void,\r\n}\r\n\r\n\r\nexport default function FieldRange({text, name, min, max, disabled, onChange}: FieldRangeI) {\r\n    const {register, getValues} = useFormContext();\r\n    const [stateOfRange, setStateOfRange] = useState(getValues(name))\r\n    const handleChange = (value:string): void => {\r\n        setStateOfRange(value)\r\n        if (typeof onChange === \"function\") onChange(value)\r\n    }\r\n    const handleDisabled = (disabled: boolean | undefined): boolean => {\r\n        return (typeof disabled === \"boolean\") ? disabled : false\r\n    }\r\n    return (\r\n        <FieldStyled>\r\n            {text}: {stateOfRange}\r\n            <input type={\"range\"}\r\n                   {...register(name, {setValueAs: v => parseInt(v)})}\r\n                   disabled={handleDisabled(disabled)}\r\n                   min={min}\r\n                   max={max}\r\n                   onChange={({target:{value}}) => handleChange(value)}\r\n            />\r\n        </FieldStyled>\r\n    );\r\n}\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport {useFormContext} from 'react-hook-form';\r\nimport styled from 'styled-components';\r\n\r\n\r\nconst FieldStyled = styled.label`\r\n  font-size: 1.4rem;\r\n  cursor: pointer;\r\n  & input[type=checkbox] {\r\n    cursor: pointer;\r\n  }\r\n  & input[type=checkbox]:after {\r\n    content: \"\";\r\n    display: block;\r\n    width: 13px;\r\n    height: 13px;\r\n    background-color: #aaa;\r\n    list-style-type: none;\r\n  }\r\n\r\n  & input[type=checkbox]:checked:after {\r\n    content: \"X\";\r\n    color: white;\r\n    background-color: ${props => props.theme.color.first};\r\n    text-align: center;\r\n    line-height: 15px;\r\n  }\r\n\r\n  @media (min-width: 768px) {\r\n    font-size: 1.6rem;\r\n    & input[type=checkbox]:after {\r\n      width: 15px;\r\n      height: 15px;\r\n    }\r\n    & input[type=checkbox]:checked:after {\r\n      line-height: 15px;\r\n    }\r\n  }\r\n`;\r\n\r\n\r\ninterface FieldCheckboxI {\r\n    name: string,\r\n    text: string,\r\n}\r\n\r\n\r\nexport default function FieldCheckbox({text, name}: FieldCheckboxI) {\r\n    const {register} = useFormContext();\r\n    return (\r\n        <FieldStyled>\r\n         {text}\r\n                <input type={\"checkbox\"}\r\n                       {...register(name)}\r\n                />\r\n        </FieldStyled>\r\n    );\r\n}\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport {useFormContext} from 'react-hook-form';\r\nimport styled from 'styled-components';\r\n\r\n\r\nexport const FieldStyled = styled.div`\r\n  width: 160px;\r\n  height: 50px;\r\n  margin: 5px;\r\n  position: relative;\r\n\r\n  & input {\r\n    color: ${props => props.theme.color.first};\r\n    display: block;\r\n    border: none;\r\n    font-size: 1.2rem;\r\n    cursor: pointer;\r\n    outline: none;\r\n    width: 160px;\r\n    text-align: center;\r\n    background-color: transparent;\r\n    border-radius: 0;\r\n    border-bottom: 2px dotted ${props => props.theme.color.first};\r\n    padding: 10px 15px;\r\n\r\n    &:focus {\r\n      border-bottom: 2px solid ${props => props.theme.color.second};\r\n      color: ${props => props.theme.color.second};\r\n    }\r\n\r\n    &:focus::placeholder {\r\n      color: transparent;\r\n    }\r\n  }\r\n\r\n  & p.error {\r\n    color: red;\r\n    width: 100%;\r\n    position: absolute;\r\n    top: 40px;\r\n    margin: 0;\r\n    font-size: 1rem;\r\n  }\r\n\r\n  @media (min-width: 700px) {\r\n    margin: 0px 10px;\r\n    & input {\r\n      //width: 200px;\r\n      font-size: 1.6rem;\r\n    }\r\n\r\n    & p.error {\r\n      top: 50px;\r\n      font-size: 1.2rem;\r\n    }\r\n  }\r\n\r\n  @media (min-width: 1050px) {\r\n    margin: 0px 20px;\r\n  }\r\n`;\r\n\r\ninterface FieldMainI {\r\n    name: string,\r\n    text: string,\r\n    type: \"number\" | \"text\",\r\n    options: {\r\n        valueAsNumber?: boolean,\r\n        required: boolean,\r\n    }\r\n    error?: null | string\r\n}\r\n\r\n\r\nexport default function FieldMain({text, name, type, options, error}: FieldMainI) {\r\n    const {register} = useFormContext();\r\n    return (\r\n        <FieldStyled>\r\n            <input type={type}\r\n                   {...register(name, options)}\r\n                   placeholder={text}\r\n            />\r\n            {error && <p className={'error'}>{error}</p>}\r\n        </FieldStyled>\r\n    );\r\n}\r\n\r\n\r\n\r\n","import {CalcFormDataI} from 'models/calc.form.data.interface';\r\n\r\nexport const defaultValues: CalcFormDataI = {\r\n    numberOfCommittees: 7,\r\n    numberOfMandates: 14,\r\n    heightOfThreshold: 5,\r\n    threshold: true,\r\n    committees: [\r\n        {\r\n            id: 0,\r\n            value: 256847,\r\n            name: 'PIS',\r\n        },\r\n        {\r\n            id: 1,\r\n            value: 197930,\r\n            name: 'PO',\r\n        },\r\n        {\r\n            id: 2,\r\n            value: 84457,\r\n            name: 'Lewica',\r\n        },\r\n        {\r\n            id: 3,\r\n            value: 51855,\r\n            name: 'Konfederacja',\r\n        },\r\n        {\r\n            id: 4,\r\n            value: 47219,\r\n            name: 'PSL',\r\n        },\r\n        {\r\n            id: 5,\r\n            value: 9214,\r\n            name: 'BIS',\r\n        },\r\n        {\r\n            id: 6,\r\n            value: 1765,\r\n            name: 'Prawica',\r\n        },\r\n    ]\r\n}\r\n\r\n","import {FieldError} from 'react-hook-form';\r\n\r\ntype errorObj = {\r\n    name?: FieldError | undefined; id?: FieldError | undefined; value?: FieldError | undefined;\r\n} | undefined\r\n\r\n\r\nexport function setError(errorObj: errorObj, typeOfField: \"name\" | \"value\", message: string) {\r\n    const typeOfFieldsWithError = errorObj ? Object.keys(errorObj) : []\r\n    if (typeOfFieldsWithError.some(typeOfFieldWithError => typeOfFieldWithError === typeOfField)) return message\r\n    else return null\r\n}","import {CalcChartDataI} from 'models/calc.chart.data.interface';\r\n\r\ninterface CalcStateI {\r\n    chartData: CalcChartDataI\r\n    chartIsDisplayed: boolean,\r\n    formIsDisplayed: boolean,\r\n}\r\n\r\n\r\nexport const backgroundColor: Array<string> = [\"red\", \"blue\", \"yellow\", \"green\", \"purple\", \"orange\", \"navy\", \"maroon\"]\r\nexport const borderColor: Array<string> = [\"red\", \"blue\", \"yellow\", \"green\", \"purple\", \"orange\", \"navy\", \"maroon\"]\r\nexport const borderWidth: number = 0\r\nexport const label: string = \"\"\r\n\r\n\r\nexport const initialState: CalcStateI = {\r\n    formIsDisplayed: true,\r\n    chartIsDisplayed: false,\r\n    chartData: {\r\n        labels: [\"\"],\r\n        datasets: [\r\n            {\r\n                label: label,\r\n                data: [0],\r\n                backgroundColor: backgroundColor,\r\n                borderColor: borderColor,\r\n                borderWidth: borderWidth,\r\n            },\r\n        ],\r\n    }\r\n}\r\n\r\n","import {CommitteeI, CalcFormDataI} from 'models/calc.form.data.interface';\r\nimport {backgroundColor, borderColor, borderWidth, label} from 'data/calc.iniatial.state.constants';\r\nimport {CalcChartDataI, Datasets} from 'models/calc.chart.data.interface'\r\n\r\ntype Divisors = {\r\n    id: number,\r\n    value: number,\r\n}\r\n\r\ntype ObtainedMandatesForCommittee = {\r\n    id: number,\r\n    mandates: number,\r\n}\r\n\r\n\r\nexport class CalcChartData {\r\n    labels: string[]\r\n    datasets: Array<Datasets>\r\n\r\n    constructor(labels: string[], datasets: Array<Datasets>) {\r\n        this.labels = labels\r\n        this.datasets = datasets\r\n    }\r\n}\r\n\r\nexport class CalcEngine {\r\n    protected numberOfCommittees: number\r\n    protected numberOfMandates: number\r\n    protected heightOfThreshold: number\r\n    protected thresholdInNumberAbsolute: number\r\n    protected threshold: boolean\r\n    protected committees: Array<CommitteeI>\r\n    protected sumOfVotes: number\r\n    protected divisors: Array<Divisors>\r\n    protected chartData: null | CalcChartDataI\r\n\r\n    constructor({\r\n                    numberOfCommittees,\r\n                    numberOfMandates,\r\n                    threshold,\r\n                    committees,\r\n                    heightOfThreshold,\r\n                }: CalcFormDataI\r\n    ) {\r\n        this.numberOfCommittees = numberOfCommittees\r\n        this.numberOfMandates = numberOfMandates\r\n        this.heightOfThreshold = heightOfThreshold\r\n        this.thresholdInNumberAbsolute = 0\r\n        this.threshold = threshold\r\n        this.committees = committees\r\n        this.sumOfVotes = 0\r\n        this.divisors = []\r\n        this.chartData = null\r\n        this.createSumOfVotes()\r\n        this.createOfThresholdInNumberAbsolute()\r\n        this.checkWhichCommitteeObtainedThreshold()\r\n        this.sortCommittees()\r\n        this.createDivisors()\r\n        this.sumOfNumberOfObtainedMandates()\r\n    }\r\n\r\n    createSumOfVotes() {\r\n        this.sumOfVotes = this.committees.reduce(function (acc, obj) {\r\n            return acc + obj.value;\r\n        }, 0)\r\n    }\r\n\r\n    createOfThresholdInNumberAbsolute() {\r\n        this.thresholdInNumberAbsolute = (this.sumOfVotes / (100 / this.heightOfThreshold))\r\n    }\r\n\r\n    checkWhichCommitteeObtainedThreshold() {\r\n        this.committees = this.committees.map(committee => {\r\n            if (!(committee.value > this.thresholdInNumberAbsolute) && this.threshold) {\r\n                return {\r\n                    ...committee,\r\n                    isHasThreshold: false\r\n                }\r\n            } else {\r\n                return {\r\n                    ...committee,\r\n                    isHasThreshold: true\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    sortCommittees() {\r\n        this.committees = this.committees.sort((a, b) => b.value - a.value)\r\n    }\r\n\r\n    createDivisors() {\r\n        const nestedDivisors = this.committees.map(committee => {\r\n            const nestedDivisor = []\r\n            for (let y = 0; y < this.numberOfMandates; y++) {\r\n                if (committee.isHasThreshold) {\r\n                    nestedDivisor.push({id: committee.id, value: (committee.value / (y + 1))})\r\n                }\r\n            }\r\n            return nestedDivisor\r\n        })\r\n        const divisors = nestedDivisors.flat()\r\n        divisors.sort((a, b) => b.value - a.value)\r\n        this.divisors = divisors\r\n    }\r\n\r\n    sumOfNumberOfObtainedMandates() {\r\n        const divisorsToSum = this.divisors.splice(0, this.numberOfMandates)\r\n        const obtainedMandatesForCommittees: ObtainedMandatesForCommittee[] = []\r\n        for (let i = 0; i < divisorsToSum.length; i++) {\r\n            const mandates = divisorsToSum.filter(divisor => divisor.id === i)\r\n            obtainedMandatesForCommittees.push({id: i, mandates: mandates.length})\r\n        }\r\n        this.committees.forEach(committee => {\r\n            const {mandates} = obtainedMandatesForCommittees.find(obtainedMandatesForCommittee => obtainedMandatesForCommittee.id === committee.id) || {}\r\n            committee.numberOfObtainedMandates = mandates\r\n        })\r\n    }\r\n\r\n    createData(committees: CommitteeI[]) {\r\n        const labels = []\r\n        const datasets = []\r\n        labels.push(...committees.map(committee => committee.name))\r\n        datasets.push({\r\n            label: label,\r\n            backgroundColor: backgroundColor,\r\n            borderColor: borderColor,\r\n            borderWidth: borderWidth,\r\n            data: committees.map(committee => committee.numberOfObtainedMandates),\r\n        })\r\n        this.chartData = new CalcChartData(labels, datasets)\r\n    }\r\n\r\n    getCommittees() {\r\n        return this.committees\r\n    }\r\n\r\n    getChartData() {\r\n        return this.chartData\r\n    }\r\n}\r\n\r\n","import {configureStore, PayloadAction, createSlice} from '@reduxjs/toolkit'\r\nimport {TypedUseSelectorHook, useDispatch, useSelector} from 'react-redux';\r\nimport {initialState} from 'data/calc.iniatial.state.constants'\r\nimport {CalcChartDataI} from 'models/calc.chart.data.interface';\r\n\r\n\r\nconst calcSlice = createSlice({\r\n    name: 'chartData',\r\n    initialState,\r\n    reducers: {\r\n        setChart(state, action: PayloadAction<CalcChartDataI>) {\r\n            state.chartData = action.payload;\r\n            state.chartIsDisplayed = true;\r\n            state.formIsDisplayed = false;\r\n        },\r\n        showForm(state) {\r\n            state.formIsDisplayed = true;\r\n        }\r\n    },\r\n});\r\n\r\nexport const store = configureStore({\r\n    reducer: {\r\n        calc: calcSlice.reducer,\r\n    },\r\n});\r\n\r\nexport const {setChart, showForm} = calcSlice.actions\r\n\r\nexport type AppDispatch = typeof store.dispatch;\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;","import React from 'react';\r\nimport {useForm, SubmitHandler, useFieldArray, FormProvider} from 'react-hook-form';\r\nimport styled from 'styled-components';\r\nimport {yupResolver} from '@hookform/resolvers/yup';\r\nimport * as yup from 'yup';\r\nimport {useTranslation} from 'react-i18next'\r\nimport {\r\n    RANGE_NUMBER_OF_COMMITTEES,\r\n    RANGE_NUMBER_OF_HEIGHT_OF_THRESHOLD,\r\n    RANGE_NUMBER_OF_MANDATES,\r\n    INPUT,\r\n} from 'data/calc.form.setting.constants';\r\nimport {ContainerContentStyled} from 'components/ContainerContentStyled'\r\nimport FieldRange from 'components/FIeldRange';\r\nimport FieldCheckbox from 'components/FieldCheckbox'\r\nimport FieldMain from 'components/FieldMain';\r\nimport Button from 'components/Button'\r\nimport {CalcFormDataI} from 'models/calc.form.data.interface';\r\nimport {defaultValues} from 'data/calc.form.default.values.constants';\r\nimport {setNumberOfCommitteesFields} from 'helpers/setNumberOfCommitteesFields';\r\nimport {setError} from 'helpers/setError';\r\nimport {calcDivisionMandates} from 'helpers/calcDivisionMandates'\r\nimport {useAppDispatch, useAppSelector, setChart, showForm} from 'store'\r\n\r\n\r\nconst CalcFormStyled = styled(ContainerContentStyled)`\r\n  align-self: center;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  & div.form--fields-container {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-wrap: wrap;\r\n\r\n\r\n  }\r\n\r\n  & div.form--field-container {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-wrap: wrap;\r\n    margin: 12px 0;\r\n  }\r\n\r\n  & div.form--submit-container {\r\n    margin-top: 25px;\r\n    margin-bottom: 10px;\r\n  }\r\n`;\r\n\r\nconst schema = yup.object().shape({\r\n    committees: yup.array().of(yup.object().shape({\r\n        name: yup.string().required(),\r\n        value: yup.number().positive().required(),\r\n    }))\r\n}).required();\r\n\r\nexport default function CalcForm() {\r\n    const state = useAppSelector((state) => state.calc)\r\n    const {t} = useTranslation();\r\n    const dispatch = useAppDispatch()\r\n    const methods = useForm<CalcFormDataI>({\r\n        defaultValues: defaultValues,\r\n        resolver: yupResolver(schema),\r\n    });\r\n    const onSubmit: SubmitHandler<CalcFormDataI> = data => {\r\n        dispatch(setChart({...calcDivisionMandates(data)}))\r\n    }\r\n\r\n\r\n    const {fields} = useFieldArray({\r\n        control: methods.control,\r\n        name: 'committees',\r\n    });\r\n    const committees = methods.watch('committees')\r\n    const disableRangeHeightOfThreshold = !(methods.watch('threshold'))\r\n    const errors = methods.formState.errors.committees\r\n\r\n    function handleChangeNumberOfCommittees(numberOfCommitteesToSet: string) {\r\n        methods.setValue('committees', setNumberOfCommitteesFields(numberOfCommitteesToSet, committees))\r\n    }\r\n\r\n    return (\r\n        <CalcFormStyled>\r\n            {state.formIsDisplayed ?\r\n                <FormProvider {...methods} >\r\n                    <form onSubmit={methods.handleSubmit(onSubmit)}>\r\n                        <div className={'form--fields-container'}>\r\n                            <FieldRange\r\n                                name={INPUT.numberOfCommittees}\r\n                                text={t('calc.form.label.numberOfCommittees')}\r\n                                min={RANGE_NUMBER_OF_COMMITTEES.min}\r\n                                max={RANGE_NUMBER_OF_COMMITTEES.max}\r\n                                onChange={handleChangeNumberOfCommittees}\r\n                            />\r\n                            <FieldRange\r\n                                name={INPUT.numberOfMandates}\r\n                                text={t('calc.form.label.numberOfMandates')}\r\n                                min={RANGE_NUMBER_OF_MANDATES.min}\r\n                                max={RANGE_NUMBER_OF_MANDATES.max}\r\n                            />\r\n                            <FieldRange\r\n                                name={INPUT.heightOfThreshold}\r\n                                text={t('calc.form.label.heightOfThreshold')}\r\n                                min={RANGE_NUMBER_OF_HEIGHT_OF_THRESHOLD.min}\r\n                                max={RANGE_NUMBER_OF_HEIGHT_OF_THRESHOLD.max}\r\n                                disabled={disableRangeHeightOfThreshold}\r\n                            />\r\n                            <FieldCheckbox\r\n                                text={t('calc.form.label.threshold')}\r\n                                name={INPUT.threshold}\r\n                            />\r\n                        </div>\r\n                        <div className={'form--fields-container'}>\r\n                            {fields.map((field) => {\r\n                                return (\r\n                                    <div className={'form--field-container'} key={field.id}>\r\n                                        <FieldMain text={t('calc.form.placeholder.committees')}\r\n                                                   name={`${INPUT.committees}.${field.id}.name`} type={\"text\"}\r\n                                                   options={{\r\n                                                       required: true,\r\n                                                   }}\r\n                                                   error={setError(errors?.[field.id], \"name\", t('calc.form.errors.text'))}\r\n                                        />\r\n                                        <FieldMain text={t('calc.form.placeholder.votes')}\r\n                                                   name={`${INPUT.committees}.${field.id}.value`}\r\n                                                   options={{\r\n                                                       required: true,\r\n                                                       valueAsNumber: true,\r\n                                                   }}\r\n                                                   error={setError(errors?.[field.id], \"value\", t('calc.form.errors.number'))}\r\n                                                   type={\"number\"}/>\r\n                                    </div>\r\n                                )\r\n                            })}\r\n                        </div>\r\n                        <div className={'form--submit-container'}>\r\n                            <Button type={\"submit\"}>{t('calc.form.submit')}\r\n                            </Button>\r\n                        </div>\r\n                    </form>\r\n                </FormProvider>\r\n                : <Button onClick={() => dispatch(showForm())}>{t('calc.form.button')}</Button>}\r\n        </CalcFormStyled>\r\n\r\n    );\r\n}\r\n","import {CalcFormDataI} from 'models/calc.form.data.interface';\r\nimport {CalcEngine} from 'services/CalcEngine'\r\n\r\nexport function calcDivisionMandates(data: CalcFormDataI) {\r\n    const engine = new CalcEngine(data)\r\n    engine.createData(engine.getCommittees())\r\n    return engine.getChartData()\r\n}","import {defaultValues} from 'data/calc.form.default.values.constants';\r\nimport {CommitteeI} from 'models/calc.form.data.interface';\r\n\r\nexport const setNumberOfCommitteesFields = (numberOfCommitteesStr: string, fields: CommitteeI[]) => {\r\n    const newFields = [...fields]\r\n    const numberOfCommittees = Number(numberOfCommitteesStr)\r\n    if (Number(numberOfCommittees) > newFields.length) {\r\n        for (let i = newFields.length; i < Number(numberOfCommittees); i++) {\r\n            const committeeToAdd = defaultValues.committees.find(committee => committee.id === i)\r\n            committeeToAdd ? newFields.push({...committeeToAdd}) : newFields.push({id: i, value: 0, name: \"\"})\r\n        }\r\n    } else if (numberOfCommittees < newFields.length) {\r\n        newFields.splice(numberOfCommittees, newFields.length - numberOfCommittees);\r\n    }\r\n    return newFields;\r\n}","import React, {useRef} from 'react'\r\nimport styled from 'styled-components';\r\nimport {ContainerContentStyled} from 'components/ContainerContentStyled'\r\nimport {Bar} from 'react-chartjs-2';\r\nimport {useAppSelector} from 'store';\r\nimport {useSize} from 'helpers/useSize'\r\nimport {setHeight} from \"helpers/setHeight\";\r\n\r\n\r\ninterface CalcChartStyledI {\r\n    readonly height: string;\r\n}\r\n\r\n\r\nconst CalcChartStyled = styled(ContainerContentStyled)<CalcChartStyledI>`\r\n  align-self: start;\r\n\r\n  div.chart--container {\r\n    height: ${props => props.height};\r\n    position: relative;\r\n\r\n    & canvas {\r\n      position: absolute !important;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const options = {\r\n    indexAxis: 'y' as const,\r\n    responsive: true,\r\n    plugins: {\r\n        legend: {\r\n            display: false,\r\n            position: 'right' as const,\r\n        },\r\n        title: {\r\n            display: false,\r\n        },\r\n    },\r\n};\r\n\r\nexport default function CalcChart() {\r\n    const state = useAppSelector((state) => state.calc)\r\n    const div = useRef<HTMLDivElement>(null)\r\n    const size = useSize(div)\r\n    const height = setHeight(size)\r\n\r\n    return (\r\n        <CalcChartStyled height={height}>\r\n            <div className=\"chart--container\" ref={div}>\r\n                <Bar type=\"bar\" data={state.chartData} options={options}/>\r\n            </div>\r\n        </CalcChartStyled>\r\n    );\r\n}\r\n\r\n","import {DOMRect} from \"./useSize\"\r\n\r\nexport function setHeight(size: DOMRect | null) {\r\n    if (size) {\r\n        return `${(size.width) / 2}px`\r\n    } else return \"100%\"\r\n}","import React from \"react\";\r\nimport useResizeObserver from \"@react-hook/resize-observer\";\r\n\r\nexport type DOMRect = {\r\n    bottom: number,\r\n    height: number,\r\n    left: number,\r\n    top: number,\r\n    width: number,\r\n    x: number,\r\n    y: number,\r\n}\r\n\r\ninterface Target {\r\n    current: null | HTMLDivElement\r\n}\r\n\r\nexport const useSize = (target: Target) => {\r\n    const [size, setSize] = React.useState<DOMRect | null>(null)\r\n    useResizeObserver(target, (entry) => setSize(entry.contentRect))\r\n    return size\r\n}","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport CalcForm from 'components/CalcForm'\r\nimport CalcChart from 'components/CalcChart'\r\nimport {useAppSelector} from \"../../store\";\r\n\r\n\r\nexport const CalcStyled = styled.div`\r\n  display: grid;\r\n  grid-gap: 20px;\r\n`;\r\n\r\n\r\nexport default function Calc() {\r\n    const state = useAppSelector((state) => state.calc)\r\n    return (\r\n        <CalcStyled>\r\n            <CalcForm/>\r\n            {state.chartIsDisplayed && <CalcChart/>}\r\n        </CalcStyled>\r\n\r\n    );\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport {useTranslation} from 'react-i18next';\r\nimport {Link} from 'react-router-dom';\r\n\r\n\r\nconst LinkStyled = styled(Link)`\r\n  font-size: 1.2rem;\r\n  font-weight: 600;\r\n  text-decoration: none;\r\n  color: ${props => props.theme.color.first};\r\n  padding: 10px;\r\n\r\n  &:hover {\r\n    color: ${props => props.theme.color.second};\r\n    border-bottom: 1px solid ${props => props.theme.color.second};\r\n    border-top: 1px solid transparent;\r\n  }\r\n\r\n  @media (min-width: 768px) {\r\n    font-size: 1.4rem;\r\n  }\r\n`;\r\nconst NavStyled = styled.nav`\r\n  color: ${props => props.theme.color.first};\r\n  font-family: ${props => props.theme.fontFamily.first};\r\n  position: absolute;\r\n  margin: 0 auto;\r\n  top: 0;\r\n  width: 100%;\r\n  max-width: 1200px;\r\n  height: 38px;\r\n  display: grid;\r\n  grid-template-columns: auto auto 1fr auto;\r\n  align-items: center;\r\n  border-bottom: 1px solid ${props => props.theme.color.first};\r\n\r\n  & button.nav {\r\n    color: ${props => props.theme.color.first};\r\n    font-size: 1.2rem;\r\n    font-weight: 600;\r\n    padding-right: 15px;\r\n    background: none;\r\n    font-family: ${props => props.theme.fontFamily.first};\r\n    border: none;\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n      color: ${props => props.theme.color.second};\r\n    }\r\n  }\r\n\r\n  @media (min-width: 768px) {\r\n    height: 40px;\r\n    & button {\r\n      font-size: 1.4rem;\r\n    }\r\n  }\r\n`;\r\n\r\n\r\nexport default function Nav() {\r\n    const {t, i18n} = useTranslation();\r\n    const setLanguage = (ln: string) => (ln === \"en\" ? \"pl\" : \"en\")\r\n\r\n    function handleLanguage() {\r\n        i18n.changeLanguage(setLanguage(i18n.language))\r\n    }\r\n\r\n    return (\r\n        <NavStyled>\r\n            <LinkStyled to=\"./\">{t(\"nav.link1\")}</LinkStyled>\r\n            <LinkStyled to=\"./calc\">{t(\"nav.link2\")}</LinkStyled>\r\n            <div/>\r\n            <button className={'nav'} onClick={handleLanguage}>{setLanguage(i18n.language)}</button>\r\n        </NavStyled>\r\n    );\r\n}\r\n\r\n\r\n\r\n","export const theme = {\r\n    color: {\r\n        first: '#544B38',\r\n        second: '#7C89A1',\r\n        third: '#E6E8ED',\r\n        four:'#A1957C',\r\n    },\r\n    fontFamily: {\r\n        first: 'Montserrat',\r\n    }\r\n};\r\n\r\n","import Background from 'components/Background';\nimport React from 'react';\nimport {Routes, Route} from 'react-router-dom'\nimport styled, {ThemeProvider} from 'styled-components';\nimport './i18n';\nimport './App.css';\nimport Home from 'routes/home'\nimport Calc from 'routes/calc'\nimport Nav from 'components/Nav';\nimport {theme} from 'data/theme';\nexport const MainWrapper = styled.div`\n  margin: 50px 10px;\n  width:100%;\n`;\n\nfunction App() {\n\n    return (\n        <div className=\"App\">\n            <ThemeProvider theme={theme}>\n                <Nav/>\n                <Background/>\n                <MainWrapper>\n                    <Routes>\n                        <Route path=\"/\" element={<Home/>}/>\n                        <Route path=\"/calc\" element={<Calc/>}/>\n                    </Routes>\n                </MainWrapper>\n            </ThemeProvider>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux'\nimport {store} from './store'\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n        <BrowserRouter basename={process.env.PUBLIC_URL}>\n            <App/>\n        </BrowserRouter>\n        </Provider>,\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}