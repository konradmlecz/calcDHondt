(this.webpackJsonpdhondt=this.webpackJsonpdhondt||[]).push([[0],{128:function(n,e,t){},137:function(n,e,t){},264:function(n,e,t){"use strict";t.r(e);var r,i=t(0),o=t.n(i),a=t(55),c=t.n(a),s=t(33),l=(t(128),t(12)),u=t(11),d=t(122),h=t(1),m=u.b.div(r||(r=Object(l.a)(["\n  z-index: -1;\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  & div {\n    width: 75%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    & svg {\n      width: 100%;\n      opacity: 0.5;\n    }\n  }\n\n  @media (min-width: 768px) {\n    & div {\n      width: 65%;\n    }\n  }\n"])));function b(){return Object(h.jsx)(m,{children:Object(h.jsx)(d.a,{src:"./images/box.svg"})})}var p=t(9),f=t(76),x=t(45),j=t(111);f.a.use(j.a).use(x.e).init({resources:{en:{translation:{nav:{link1:"Home",link2:"Calc"},home:{title:"Calculator D'Hondta method's",button:"Start"},calc:{form:{label:{numberOfCommittees:"Number of Committees",numberOfMandates:"Number of Mandates",heightOfThreshold:"Height of Threshold",threshold:"Threshold",committees:"Committee",votes:"Number of votes"},placeholder:{committees:"Committee",votes:"Number of votes"},submit:"Calculate",button:"Show form",errors:{number:"Field is not be empty and less 1",text:"Field is not be empty"}}}}},pl:{translation:{nav:{link1:"Start",link2:"Kalkulator"},home:{title:"Kalkulator metody D'Hondta",button:"Zacznij"},calc:{form:{label:{numberOfCommittees:"Ilo\u015b\u0107 komitet\xf3w",numberOfMandates:"Ilo\u015b\u0107 mandat\xf3w",heightOfThreshold:"Wysoko\u015b\u0107 progu",threshold:"Pr\xf3g",committees:"Nazwa komitetu",votes:"Ilo\u015b\u0107 g\u0142os\xf3w"},placeholder:{committees:"Nazwa komitetu",votes:"Ilo\u015b\u0107 g\u0142os\xf3w"},submit:"Wylicz",button:"Poka\u017c formularz",errors:{number:"Pole nie mo\u017ce by\u0107 puste ani mniejsze od 1",text:"Pole nie moze by\u0107 puste"}}}}}},fallbackLng:["pl","en"],interpolation:{escapeValue:!1}});f.a,t(137);var O,g,v,y,w=t(265),k=u.b.div(O||(O=Object(l.a)(["\n  font-family: ",";\n  color: ",";\n  background-color: rgba(255, 255, 255, 0.6);\n  padding: 8px;\n  box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;\n  border-radius: 10px;\n  @media (min-width: 768px) {\n    padding: 20px;\n  }\n"])),(function(n){return n.theme.fontFamily.first}),(function(n){return n.theme.color.first})),C=u.b.button(g||(g=Object(l.a)(["\n  font-size: 1.2rem;\n  font-weight: bold;\n  font-family: ",";\n  background-color: transparent;\n  border-radius: 10px;\n  padding: 5px 10px;\n  color: ",";\n  border: 2px solid ",";\n  cursor: pointer;\n\n  &:hover {\n    color: ",";\n    border: 2px solid ",";\n  }\n\n  @media (min-width: 768px) {\n    font-size: 1.6rem;\n    padding: 5px 10px;\n\n  }\n"])),(function(n){return n.theme.fontFamily.first}),(function(n){return n.theme.color.first}),(function(n){return n.theme.color.first}),(function(n){return n.theme.color.second}),(function(n){return n.theme.color.second}));function z(n){var e=n.children,t=n.onClick,r=n.type;return Object(h.jsx)(C,{onClick:t,type:r,children:e})}var N=u.b.div(v||(v=Object(l.a)(["\n  width: 100%;\n  min-height: 80vh;\n  display: flex;\n  justify-content: center;\n"]))),D=Object(u.b)(k)(y||(y=Object(l.a)(["\n  align-self: center;\n  justify-self: center;\n\n  & h1 {\n    padding: 10px;\n    letter-spacing: 4px;\n    border-bottom: 1px solid ",";\n    font-size: 1.4rem;\n  }\n\n  @media (min-width: 768px) {\n    & h1 {\n      padding: 20px;\n      letter-spacing: 8px;\n      font-size: 3rem;\n    }\n  }\n"])),(function(n){return n.theme.color.first}));function I(){var n=Object(w.a)().t,e=Object(p.f)();return Object(h.jsx)(N,{children:Object(h.jsxs)(D,{children:[Object(h.jsx)("h1",{children:n("home.title")}),Object(h.jsx)(z,{onClick:function(){e("/calc")},children:n("home.button")})]})})}var T,M,S=t(14),A=t(18),V=t(123),F=t(37),P="numberOfCommittees",H="numberOfMandates",W="heightOfThreshold",q="threshold",E="committees",L="1",B="8",K="6",J="20",R="3",X="20",Z=t(16),G=u.b.label(T||(T=Object(l.a)(["\n  font-size: 1.2rem;\n  display: grid;\n  grid-template-rows: 1fr 1fr;\n  justify-items: center;\n  gap: 5px;\n  margin: 20px;\n  width: 120px;\n  & input[type=range] {\n    -webkit-appearance: none;\n    background: transparent;\n    width: 120px;\n  }\n\n  & input[type=range]::-webkit-slider-thumb {\n    -webkit-appearance: none;\n \n  }\n\n  & input[type=range]:focus {\n    outline: none;\n  }\n \n\n  & input[type=range]::-ms-track {\n    width: 100%;\n    cursor: pointer;\n    background: transparent;\n    border-color: transparent;\n    color: transparent;\n  }\n\n  & input[type=range]::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    background: ",";\n    height: 16px;\n    width: 16px;\n    border-radius: 50%;\n    cursor: pointer;\n    margin-top: -5px;\n  }\n\n  & input[type=range]::-moz-range-thumb {\n    background: ",";\n    height: 16px;\n    width: 16px;\n    border-radius: 50%;\n    cursor: pointer;\n  }\n\n  & input[type=range]::-ms-thumb {\n    background: ",";\n    height: 16px;\n    width: 16px;\n    border-radius: 50%;\n    cursor: pointer;\n  }\n\n  & input[type=range]::-webkit-slider-runnable-track {\n    width: 50%;\n    height: 6px;\n    cursor: pointer;\n    border-radius: 4px;\n    background: ",";\n  }\n\n  & input[type=range]::-moz-range-track {\n    width: 100%;\n    height: 6px;\n    cursor: pointer;\n    background: ",";\n    border-radius: 4px;\n  }\n\n  & input[type=range]::-ms-track {\n    width: 100%;\n    height: 6px;\n    cursor: pointer;\n    background: transparent;\n    border-color: transparent;\n    border-radius: 4px;\n    color: transparent;\n\n  }\n\n  & input[type=range]::-ms-fill-lower {\n    background: ",";\n    border-radius: 4px;\n  }\n\n  & input[type=range]::-ms-fill-upper {\n    background: ",";\n    border-radius: 4px;\n  }\n\n\n\n  @media (min-width: 768px) {\n    font-size: 1.6rem;\n    width: 220px;\n    & input[type=range] {\n      width: 220px;\n    }\n    \n  }\n"])),(function(n){return n.theme.color.first}),(function(n){return n.theme.color.first}),(function(n){return n.theme.color.first}),(function(n){return n.theme.color.first}),(function(n){return n.theme.color.first}),(function(n){return n.theme.color.first}),(function(n){return n.theme.color.first}));function Q(n){var e=n.text,t=n.name,r=n.min,o=n.max,a=n.disabled,c=n.onChange,s=Object(A.g)(),l=s.register,u=s.getValues,d=Object(i.useState)(u(t)),m=Object(Z.a)(d,2),b=m[0],p=m[1],f=function(n){p(n),"function"===typeof c&&c(n)};return Object(h.jsxs)(G,{children:[e,": ",b,Object(h.jsx)("input",Object(S.a)(Object(S.a)({type:"range"},l(t,{setValueAs:function(n){return parseInt(n)}})),{},{disabled:function(n){return"boolean"===typeof n&&n}(a),min:r,max:o,onChange:function(n){var e=n.target.value;return f(e)}}))]})}var U,Y=u.b.label(M||(M=Object(l.a)(['\n  font-size: 1.4rem;\n  cursor: pointer;\n  & input[type=checkbox] {\n    cursor: pointer;\n  }\n  & input[type=checkbox]:after {\n    content: "";\n    display: block;\n    width: 13px;\n    height: 13px;\n    background-color: #aaa;\n    list-style-type: none;\n  }\n\n  & input[type=checkbox]:checked:after {\n    content: "X";\n    color: white;\n    background-color: ',";\n    text-align: center;\n    line-height: 15px;\n  }\n\n  @media (min-width: 768px) {\n    font-size: 1.6rem;\n    & input[type=checkbox]:after {\n      width: 15px;\n      height: 15px;\n    }\n    & input[type=checkbox]:checked:after {\n      line-height: 15px;\n    }\n  }\n"])),(function(n){return n.theme.color.first}));function $(n){var e=n.text,t=n.name,r=Object(A.g)().register;return Object(h.jsxs)(Y,{children:[e,Object(h.jsx)("input",Object(S.a)({type:"checkbox"},r(t)))]})}var _=u.b.div(U||(U=Object(l.a)(["\n  width: 160px;\n  height: 50px;\n  margin: 5px;\n  position: relative;\n\n  & input {\n    color: ",";\n    display: block;\n    border: none;\n    font-size: 1.2rem;\n    cursor: pointer;\n    outline: none;\n    width: 160px;\n    text-align: center;\n    background-color: transparent;\n    border-radius: 0;\n    border-bottom: 2px dotted ",";\n    padding: 10px 15px;\n\n    &:focus {\n      border-bottom: 2px solid ",";\n      color: ",";\n    }\n\n    &:focus::placeholder {\n      color: transparent;\n    }\n  }\n\n  & p.error {\n    color: red;\n    width: 100%;\n    position: absolute;\n    top: 40px;\n    margin: 0;\n    font-size: 1rem;\n  }\n\n  @media (min-width: 700px) {\n    margin: 0px 10px;\n    & input {\n      //width: 200px;\n      font-size: 1.6rem;\n    }\n\n    & p.error {\n      top: 50px;\n      font-size: 1.2rem;\n    }\n  }\n\n  @media (min-width: 1050px) {\n    margin: 0px 20px;\n  }\n"])),(function(n){return n.theme.color.first}),(function(n){return n.theme.color.first}),(function(n){return n.theme.color.second}),(function(n){return n.theme.color.second}));function nn(n){var e=n.text,t=n.name,r=n.type,i=n.options,o=n.error,a=Object(A.g)().register;return Object(h.jsxs)(_,{children:[Object(h.jsx)("input",Object(S.a)(Object(S.a)({type:r},a(t,i)),{},{placeholder:e})),o&&Object(h.jsx)("p",{className:"error",children:o})]})}var en={numberOfCommittees:7,numberOfMandates:14,heightOfThreshold:5,threshold:!0,committees:[{id:0,value:256847,name:"PIS"},{id:1,value:197930,name:"PO"},{id:2,value:84457,name:"Lewica"},{id:3,value:51855,name:"Konfederacja"},{id:4,value:47219,name:"PSL"},{id:5,value:9214,name:"BIS"},{id:6,value:1765,name:"Prawica"}]},tn=t(4);function rn(n,e,t){return(n?Object.keys(n):[]).some((function(n){return n===e}))?t:null}var on=t(3),an=t(2),cn=["red","blue","yellow","green","purple","orange","navy","maroon"],sn=["red","blue","yellow","green","purple","orange","navy","maroon"],ln={formIsDisplayed:!0,chartIsDisplayed:!1,chartData:{labels:[""],datasets:[{label:"",data:[0],backgroundColor:cn,borderColor:sn,borderWidth:0}]}},un=function n(e,t){Object(an.a)(this,n),this.labels=void 0,this.datasets=void 0,this.labels=e,this.datasets=t},dn=function(){function n(e){var t=e.numberOfCommittees,r=e.numberOfMandates,i=e.threshold,o=e.committees,a=e.heightOfThreshold;Object(an.a)(this,n),this.numberOfCommittees=void 0,this.numberOfMandates=void 0,this.heightOfThreshold=void 0,this.thresholdInNumberAbsolute=void 0,this.threshold=void 0,this.committees=void 0,this.sumOfVotes=void 0,this.divisors=void 0,this.chartData=void 0,this.numberOfCommittees=t,this.numberOfMandates=r,this.heightOfThreshold=a,this.thresholdInNumberAbsolute=0,this.threshold=i,this.committees=o,this.sumOfVotes=0,this.divisors=[],this.chartData=null,this.createSumOfVotes(),this.createOfThresholdInNumberAbsolute(),this.checkWhichCommitteeObtainedThreshold(),this.sortCommittees(),this.createDivisors(),this.sumOfNumberOfObtainedMandates()}return Object(on.a)(n,[{key:"createSumOfVotes",value:function(){this.sumOfVotes=this.committees.reduce((function(n,e){return n+e.value}),0)}},{key:"createOfThresholdInNumberAbsolute",value:function(){this.thresholdInNumberAbsolute=this.sumOfVotes/(100/this.heightOfThreshold)}},{key:"checkWhichCommitteeObtainedThreshold",value:function(){var n=this;this.committees=this.committees.map((function(e){return e.value>n.thresholdInNumberAbsolute||!n.threshold?Object(S.a)(Object(S.a)({},e),{},{isHasThreshold:!0}):Object(S.a)(Object(S.a)({},e),{},{isHasThreshold:!1})}))}},{key:"sortCommittees",value:function(){this.committees=this.committees.sort((function(n,e){return e.value-n.value}))}},{key:"createDivisors",value:function(){var n=this,e=this.committees.map((function(e){for(var t=[],r=0;r<n.numberOfMandates;r++)e.isHasThreshold&&t.push({id:e.id,value:e.value/(r+1)});return t})).flat();e.sort((function(n,e){return e.value-n.value})),this.divisors=e}},{key:"sumOfNumberOfObtainedMandates",value:function(){for(var n=this.divisors.splice(0,this.numberOfMandates),e=[],t=function(t){var r=n.filter((function(n){return n.id===t}));e.push({id:t,mandates:r.length})},r=0;r<n.length;r++)t(r);this.committees.forEach((function(n){var t=(e.find((function(e){return e.id===n.id}))||{}).mandates;n.numberOfObtainedMandates=t}))}},{key:"createData",value:function(n){var e=[],t=[];e.push.apply(e,Object(tn.a)(n.map((function(n){return n.name})))),t.push({label:"",backgroundColor:cn,borderColor:sn,borderWidth:0,data:n.map((function(n){return n.numberOfObtainedMandates}))}),this.chartData=new un(e,t)}},{key:"getCommittees",value:function(){return this.committees}},{key:"getChartData",value:function(){return this.chartData}}]),n}();var hn,mn=t(77),bn=t(44),pn=Object(mn.b)({name:"chartData",initialState:ln,reducers:{setChart:function(n,e){n.chartData=e.payload,n.chartIsDisplayed=!0,n.formIsDisplayed=!1},showForm:function(n){n.formIsDisplayed=!0}}}),fn=Object(mn.a)({reducer:{calc:pn.reducer}}),xn=pn.actions,jn=xn.setChart,On=xn.showForm,gn=bn.c,vn=Object(u.b)(k)(hn||(hn=Object(l.a)(["\n  align-self: center;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  & div.form--fields-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-wrap: wrap;\n\n\n  }\n\n  & div.form--field-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-wrap: wrap;\n    margin: 12px 0;\n  }\n\n  & div.form--submit-container {\n    margin-top: 25px;\n    margin-bottom: 10px;\n  }\n"]))),yn=F.c().shape({committees:F.a().of(F.c().shape({name:F.d().required(),value:F.b().positive().required()}))}).required();function wn(){var n=gn((function(n){return n.calc})),e=Object(w.a)().t,t=Object(bn.b)(),r=Object(A.f)({defaultValues:en,resolver:Object(V.a)(yn)}),i=Object(A.e)({control:r.control,name:"committees"}).fields,o=r.watch("committees"),a=!r.watch("threshold"),c=r.formState.errors.committees;return Object(h.jsx)(vn,{children:n.formIsDisplayed?Object(h.jsx)(A.a,Object(S.a)(Object(S.a)({},r),{},{children:Object(h.jsxs)("form",{onSubmit:r.handleSubmit((function(n){t(jn(Object(S.a)({},function(n){var e=new dn(n);return e.createData(e.getCommittees()),e.getChartData()}(n))))})),children:[Object(h.jsxs)("div",{className:"form--fields-container",children:[Object(h.jsx)(Q,{name:P,text:e("calc.form.label.numberOfCommittees"),min:L,max:B,onChange:function(n){r.setValue("committees",function(n,e){var t=Object(tn.a)(e),r=Number(n);if(Number(r)>t.length)for(var i=function(n){var e=en.committees.find((function(e){return e.id===n}));e?t.push(Object(S.a)({},e)):t.push({id:n,value:0,name:""})},o=t.length;o<Number(r);o++)i(o);else r<t.length&&t.splice(r,t.length-r);return t}(n,o))}}),Object(h.jsx)(Q,{name:H,text:e("calc.form.label.numberOfMandates"),min:K,max:J}),Object(h.jsx)(Q,{name:W,text:e("calc.form.label.heightOfThreshold"),min:R,max:X,disabled:a}),Object(h.jsx)($,{text:e("calc.form.label.threshold"),name:q})]}),Object(h.jsx)("div",{className:"form--fields-container",children:i.map((function(n){return Object(h.jsxs)("div",{className:"form--field-container",children:[Object(h.jsx)(nn,{text:e("calc.form.placeholder.committees"),name:"".concat(E,".").concat(n.id,".name"),type:"text",options:{required:!0},error:rn(null===c||void 0===c?void 0:c[n.id],"name",e("calc.form.errors.text"))}),Object(h.jsx)(nn,{text:e("calc.form.placeholder.votes"),name:"".concat(E,".").concat(n.id,".value"),options:{required:!0,valueAsNumber:!0},error:rn(null===c||void 0===c?void 0:c[n.id],"value",e("calc.form.errors.number")),type:"number"})]},n.id)}))}),Object(h.jsx)("div",{className:"form--submit-container",children:Object(h.jsx)(z,{type:"submit",children:e("calc.form.submit")})})]})})):Object(h.jsx)(z,{onClick:function(){return t(On())},children:e("calc.form.button")})})}var kn,Cn=t(121),zn=t(120);var Nn,Dn=Object(u.b)(k)(kn||(kn=Object(l.a)(["\n  align-self: start;\n\n  div.chart--container {\n    height: ",";\n    position: relative;\n\n    & canvas {\n      position: absolute !important;\n    }\n  }\n"])),(function(n){return n.height})),In={indexAxis:"y",responsive:!0,plugins:{legend:{display:!1,position:"right"},title:{display:!1}}};function Tn(){var n=gn((function(n){return n.calc})),e=Object(i.useRef)(null),t=function(n){return n?"".concat(n.width/2,"px"):"100%"}(function(n){var e=o.a.useState(null),t=Object(Z.a)(e,2),r=t[0],i=t[1];return Object(zn.a)(n,(function(n){return i(n.contentRect)})),r}(e));return Object(h.jsx)(Dn,{height:t,children:Object(h.jsx)("div",{className:"chart--container",ref:e,children:Object(h.jsx)(Cn.a,{type:"bar",data:n.chartData,options:In})})})}var Mn,Sn,An=u.b.div(Nn||(Nn=Object(l.a)(["\n  display: grid;\n  grid-gap: 20px;\n"])));function Vn(){var n=gn((function(n){return n.calc}));return Object(h.jsxs)(An,{children:[Object(h.jsx)(wn,{}),n.chartIsDisplayed&&Object(h.jsx)(Tn,{})]})}var Fn=Object(u.b)(s.b)(Mn||(Mn=Object(l.a)(["\n  font-size: 1.2rem;\n  font-weight: 600;\n  text-decoration: none;\n  color: ",";\n  padding: 10px;\n\n  &:hover {\n    color: ",";\n    border-bottom: 1px solid ",";\n    border-top: 1px solid transparent;\n  }\n\n  @media (min-width: 768px) {\n    font-size: 1.4rem;\n  }\n"])),(function(n){return n.theme.color.first}),(function(n){return n.theme.color.second}),(function(n){return n.theme.color.second})),Pn=u.b.nav(Sn||(Sn=Object(l.a)(["\n  color: ",";\n  font-family: ",";\n  position: absolute;\n  margin: 0 auto;\n  top: 0;\n  width: 100%;\n  max-width: 1200px;\n  height: 38px;\n  display: grid;\n  grid-template-columns: auto auto 1fr auto;\n  align-items: center;\n  border-bottom: 1px solid ",";\n\n  & button.nav {\n    color: ",";\n    font-size: 1.2rem;\n    font-weight: 600;\n    padding-right: 15px;\n    background: none;\n    font-family: ",";\n    border: none;\n    cursor: pointer;\n\n    &:hover {\n      color: ",";\n    }\n  }\n\n  @media (min-width: 768px) {\n    height: 40px;\n    & button {\n      font-size: 1.4rem;\n    }\n  }\n"])),(function(n){return n.theme.color.first}),(function(n){return n.theme.fontFamily.first}),(function(n){return n.theme.color.first}),(function(n){return n.theme.color.first}),(function(n){return n.theme.fontFamily.first}),(function(n){return n.theme.color.second}));function Hn(){var n=Object(w.a)(),e=n.t,t=n.i18n,r=function(n){return"en"===n?"pl":"en"};return Object(h.jsxs)(Pn,{children:[Object(h.jsx)(Fn,{to:"./",children:e("nav.link1")}),Object(h.jsx)(Fn,{to:"./calc",children:e("nav.link2")}),Object(h.jsx)("div",{}),Object(h.jsx)("button",{className:"nav",onClick:function(){t.changeLanguage(r(t.language))},children:r(t.language)})]})}var Wn,qn={color:{first:"#544B38",second:"#7C89A1",third:"#E6E8ED",four:"#A1957C"},fontFamily:{first:"Montserrat"}},En=u.b.div(Wn||(Wn=Object(l.a)(["\n  margin: 50px 10px;\n  width:100%;\n"])));var Ln=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(u.a,{theme:qn,children:[Object(h.jsx)(Hn,{}),Object(h.jsx)(b,{}),Object(h.jsx)(En,{children:Object(h.jsxs)(p.c,{children:[Object(h.jsx)(p.a,{path:"/",element:Object(h.jsx)(I,{})}),Object(h.jsx)(p.a,{path:"/calc",element:Object(h.jsx)(Vn,{})})]})})]})})};c.a.render(Object(h.jsxs)(o.a.StrictMode,{children:[Object(h.jsx)(bn.a,{store:fn,children:Object(h.jsx)(s.a,{basename:"/calcdhondt",children:Object(h.jsx)(Ln,{})})}),","]}),document.getElementById("root"))}},[[264,1,2]]]);
//# sourceMappingURL=main.8cf506b4.chunk.js.map